YUI.add("gallery-yui-slideshow",function(B){var A=function(C){A.superclass.constructor.apply(this,arguments);};A.NAME="Slideshow";A.PRESETS={fade:{slideIn:{before:{opacity:0},transition:{opacity:1}},slideOut:{before:{opacity:1},transition:{opacity:0}}},slideDown:{slideIn:{before:{bottom:"cH"},transition:{bottom:"0px"}},slideOut:{before:{bottom:"0px"},transition:{bottom:"-cH"}}},slideLeft:{slideIn:{before:{right:"-cW"},transition:{right:"0px"}},slideOut:{before:{right:"0px"},transition:{right:"cW"}}},slideUp:{slideIn:{before:{top:"cH"},transition:{top:"0px"}},slideOut:{before:{top:"0px"},transition:{top:"-cH"}}},slideRight:{slideIn:{before:{left:"-cW"},transition:{left:"0px"}},slideOut:{before:{left:"0px"},transition:{left:"cW"}}}};A.ATTRS={slides:{value:null},currentIndex:{value:0},previousButton:{value:null},nextButton:{value:null},pauseButton:{value:null},playButton:{value:null},pages:{value:null},interval:{value:4},autoplay:{value:true},pauseOnChange:{value:true},pauseOnHover:{value:true},duration:{value:0.5},easing:{value:"ease-out"},transition:{value:A.PRESETS.fade},transInBefore:{value:{zIndex:1}},transInAfter:{value:{zIndex:2}},transOutBefore:{value:{zIndex:2}},transOutAfter:{value:{zIndex:-30000}},_debug:{value:false},_intervalID:{value:null},_isPaused:{value:true}};B.extend(A,B.Widget,{next:function(){if(this.get("pauseOnChange")){this.pause();}this.slide("next");},pause:function(){if(!this.get("_isPaused")){window.clearInterval(this.get("_intervalID"));this.set("_isPaused",true);}},play:function(){var C=this,D;if(this.get("_isPaused")){D=this.get("_debug")?"setTimeout":"setInterval";this.set("_intervalID",window[D](function(){C.slide("next");},parseInt(this.get("interval")*1000,10)));this.set("_isPaused",false);}},previous:function(){if(this.get("pauseOnChange")){this.pause();}this.slide("previous");},slide:function(G){var E=this,D=this.get("currentIndex"),I=this.get("slides"),H=this.get("transition"),C,F;C=I.item(D);switch(G){case"next":if(D+1<I.size()){D++;}else{D=0;}break;case"previous":if(D-1>-1){D--;}else{D=I.size()-1;}break;default:if(G==D){return false;}else{D=parseInt(G,10);}break;}this.set("currentIndex",D);F=I.item(D);if(B.Lang.isUndefined(H.slideOut.transition.duration)){H.slideOut.transition.duration=this.get("duration");}if(B.Lang.isUndefined(H.slideOut.transition.easing)){H.slideOut.transition.easing=this.get("easing");}if(B.Lang.isUndefined(H.slideIn.transition.duration)){H.slideIn.transition.duration=this.get("duration");}if(B.Lang.isUndefined(H.slideIn.transition.easing)){H.slideIn.transition.easing=this.get("easing");}this._setStyles(C,this.get("transOutBefore"));this._setStyles(F,this.get("transInBefore"));if(B.Lang.isObject(H.slideOut.before)){this._setStyles(C,H.slideOut.before);}if(B.Lang.isObject(H.slideIn.before)){this._setStyles(F,H.slideIn.before);}H.slideOut.transition=this._checkTransitionValues(C,H.slideOut.transition);H.slideIn.transition=this._checkTransitionValues(F,H.slideIn.transition);C.transition(H.slideOut.transition,function(){E._setStyles(C,E.get("transOutAfter"));if(B.Lang.isObject(H.slideOut.after)){E._setStyles(C,H.slideOut.after);}});F.transition(H.slideIn.transition,function(){E._setStyles(F,E.get("transInAfter"));if(B.Lang.isObject(H.slideIn.after)){E._setStyles(F,H.slideIn.after);}});},_checkCSSValue:function(C,D){switch(D){case"cW":case"containerWidth":return parseInt(this.get("contentBox").get("offsetWidth"),10)+"px";break;case"-cW":case"-containerWidth":return(parseInt(this.get("contentBox").get("offsetWidth"),10)*-1)+"px";break;case"cH":case"containerHeight":return parseInt(this.get("contentBox").get("offsetHeight"),10)+"px";break;case"-cH":case"-containerHeight":return(parseInt(this.get("contentBox").get("offsetHeight"),10)*-1)+"px";break;case"sW":case"slideWidth":return parseInt(C.get("offsetWidth"))+"px";break;case"-sW":case"-slideWidth":return(parseInt(C.get("offsetWidth"))*-1)+"px";break;case"sH":case"slideHeight":return parseInt(C.get("offsetHeight"))+"px";break;case"-sH":case"-slideHeight":return(parseInt(C.get("offsetHeight"))*-1)+"px";break;default:return D;break;}},_checkTransitionValues:function(C,E){var D={},F;for(i in E){if(i=="duration"||i=="easing"||i=="delay"){D[i]=E[i];}else{D[i]=this._checkCSSValue(C,E[i]);}}return D;},_handlePageClick:function(C){if(this.get("pauseOnChange")){this.pause();}C.target=C.target.ancestor("."+this.getClassName("page"));this.slide(this.get("pages").indexOf(C.target));},_setStyles:function(C,E){for(var D in E){if(E.hasOwnProperty(D)){C.setStyle(D,this._checkCSSValue(C,E[D]));}}},bindUI:function(){var D=["previous","next","pause","play"],G=this.get("pages"),F,C,E;for(E=0;E<D.length;E++){C=this.get(D[E]+"Button");if(!B.Lang.isNull(C)){B.on("click",this[D[E]],C,this);}}if(!B.Lang.isNull(G)){G.on("click",this._handlePageClick,this);}if(this.get("pauseOnHover")){this.get("contentBox").on("mouseenter",this.pause,this);this.get("contentBox").on("mouseleave",this.play,this);}},syncUI:function(){var C=this,E=this.get("pages"),D=0;this.get("slides").each(function(F){D++;if(D>1){F.setStyles(C.get("transOutAfter"));}});if(!B.Lang.isNull(E)){E.addClass(this.getClassName("page"));}if(this.get("autoplay")){this.play();}},initializer:function(){var C=this.get("pages");this.set("slides",this.get("contentBox").get("children"));if(B.Lang.isString(C)){C=B.one(C);}if(!B.Lang.isNull(C)){C=C.get("children");}this.set("pages",C);}});B.Slideshow=A;},"@VERSION@",{requires:["widget","transition","event-mouseenter"]});